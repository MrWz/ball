## MIS后台管理接口
<!-- toc -->
### 版本变更

|时间|修改人|描述|
|----|------|-------|
|2018.01.20|王哲|新建文档|

### 目录
- [MIS后台管理接口](#MIS后台管理接口)
    - [目录](#目录)
    - [接口列表](#接口列表)
     - [[get] /admin/v1/app/group/groups 获取应用组]
     - [[post] /admin/v1/app/group/ 增加应用组]
     - [[get] /admin/v1/app/group/{appGroupKey} 获取应用组详细信息]
     - [[put] /admin/v1/app/group/{appGroupKey} 编辑应用组]
     - [[delete] /admin/v1/app/group/{appGroupKey} 删除应用组]
    - [错误码](#错误码)

### 接口列表

#### [get] /admin/v1/app/group/groups 获取所有的应用组

前置条件：

* 用户必须已登录

输入参数：

|名称|类型|是否必须|描述|参数限制|
|-----|----|----|----|----|
|appGroupName|String|否|应用组名称，未传的话显示所有|0-32字符|

输出参数:

|名称|类型|描述|
|------|------|-----------|
|statusCode|int|错误码，200为成功，非200为错误|
|message|string|错误描述|
|data|list|应用信息|

data参数说明：

|名称|类型|描述|
|------|------|-------|
|appGroupKey|String|应用组key|
|appGroupName|String|应用组名字|
|appGroupIcon|String|应用组图标地址|
|homepage|String|应用组访问地址|

输出样例:

+ statusCode=200

```
{
   "statusCode": 200,
   "message": "Success"
   "data" : 
   	［
   		{
   			"appGroupKey" : "47980c26400b43d0bbb344fc329bfed2",
   			"appGroupName" : "云班",
   			"appGroupIcon" : "www.dsdfaefreger.jpg"
   			"homepage" : "www.yunban.com"
   		},
        {
   			"appGroupKey" : "3C340388D6BBAA60FDA55262A69B2EE4",
   			"appGroupName" : "录播",
   			"appGroupIcon" : "www.efefeafavv.jpg"
   			"homepage" : "www.lubo.com"
   		},
   		....
   	]
}
```

#### [post] /admin/v1/app/group 增加应用组

前置条件：

* 用户必须已登录

输入参数：

|名称|类型|是否必须|描述|参数限制|
|-----|----|----|----|----|
|appGroupName|String|是|应用组名称|0-32字符|
|homepage|String|是|主页地址|0-128字符，需要匹配网址格式|
|appGroupIcon|String|否|icon地址|0-128字符|
|apps|list|否|应用||

apps参数：

|名称|类型|是否必须|描述|参数限制|
|-----|----|----|----|----|
|appName|String|是|应用名称|0-32字符|
|appUrl|String|否|应用访问地址|0-128字符|
|appIcon|String|否|应用图标地址|0-128字符|

输出参数:

|名称|类型|描述|
|------|------|-----------|
|statusCode|int|错误码，200为成功，非200为错误|
|message|string|错误描述|
|data|map||

输出样例:

+ statusCode=200

```
{
   "statusCode": 200,
   "message": "Success"
}
```

#### [get] /admin/v1/app/group/{appGroupKey} 获取应用详细信息

前置条件：

* 用户必须已登录

输入参数：

|名称|类型|是否必须|描述|参数限制|
|-----|----|----|----|----|
|appGroupKey|String|是|应用组key|32位字符|

输出参数:

|名称|类型|描述|
|------|------|-----------|
|statusCode|int|错误码，200为成功，非200为错误|
|message|string|错误描述|
|data|map|学校服务开通状态信息|

data参数说明：

|名称|类型|描述|
|------|------|-------|
|appGroupName|String|应用名称|
|homepage|String|主页地址|
|appGroupIcon|String|icon地址|
|appUid|String|模块uid|
|appName|String|模块名称|
|appUrl|String|模块访问地址|
|appIcon|String|模块图标地址|

输出样例:

+ statusCode=200

```
{
   "statusCode": 200,
   "message": "Success"
   "data" : 
   {
          "appGroupName" : "录播",
          "homepage" : "www.lubo.com"
          "appGroupIcon" : "www.efefeafavv.jpg"
          "apps" : [
              {
                  "appUid" : "rt980c26400b43d0bbb344fc329bfeee"
                  "appName" : "设备管理"
                  "appUrl" : "www.lubo.com/device/setting"
                  "appIcon" : "www.test.jpg"
              },
              {
                  "appUid" : "fg980c26400b43d0bbb344fc329bfebd"
                  "appName" : "班级管理"
                  "appUrl" : "www.lubo.com/class/all"
                  "appIcon" : "www.test1.jpg"
              },
              ...
          ]
   }
}
```

+ statusCode=42000

```
{
   "statusCode" : 42000,
   "message" : "The Resource Not Exit"
}
```

#### [put] /admin/v1/app/group/{appGroupKey} 编辑应用组

前置条件：

* 用户必须已登录

输入参数：

|名称|类型|是否必须|描述|参数限制|
|-----|----|----|----|----|
|appGroupKey|String|是|应用key|32字符|
|appGroupName|String|是|应用名称|0-32字符|
|homepage|String|是|主页地址|0-128字符，需要匹配网址格式|
|appGroupIcon|String|否|icon地址|0-128字符|
|apps|list|否|模块||

apps参数：

|名称|类型|是否必须|描述|参数限制|
|-----|----|----|----|----|
|appUid|String|否|模块uid|如果在原基础上修改就会带回uid，新增的行没有uid也不用传。
|appName|String|是|模块名称|0-32字符|
|appUrl|String|否|模块访问地址|0-128字符|
|appIcon|String|否|应用图标地址|0-128字符|

输出参数:

|名称|类型|描述|
|------|------|-----------|
|statusCode|int|错误码，200为成功，非200为错误|
|message|string|错误描述|

输出样例:

+ statusCode=200

```
{
   "statusCode": 200,
   "message": "Success"
}
```

+ statusCode=42000

```
{
   "statusCode" : 42000,
   "message" : "The Resource Not Exit"
}
```

#### [delete] /admin/v1/app/group/{appGroupKey} 删除应用组

前置条件：

* 用户必须已登录

输入参数：

|名称|类型|是否必须|描述|参数限制|
|-----|----|----|----|----|
|appGroupKey|String|是|应用组key|32位字符|

输出参数:

|名称|类型|描述|
|------|------|-----------|
|statusCode|int|错误码，200为成功，非200为错误|
|message|string|错误描述|

输出样例:

+ statusCode=200

```
{
   "statusCode": 200,
   "message": "Success"
}
```

+ statusCode=42000

```
{
   "statusCode" : 42000,
   "message" : "The Resource Not Exit"
}
```


|错误码|原因|
|---|------| 
|200|ok|
|40000|Request Params Illegal|
|42000|The Resource Not Exit|
|42002|The Resource Is Exit|







