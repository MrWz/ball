<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>注册动么-让运动玩出新花样</title>
    <meta name="keywords" content="动么|动么app|运动娱乐|运动社交O2O|运动约伴|运动社群|科学运动计划|一起运动|趣味运动">
    <meta name="description" content="运动社交APP,为约伴运动而生的应用神器，结交运动达人，发现附近运动伙伴，一起运动，运动不再孤单">
    <link rel="stylesheet" type="text/css" href="css/base.css">
    <link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/index.min.css">
    <link rel="stylesheet" type="text/css" href="css/login.css">
</head>
<body>
<!--导航-->
<div id="header" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        <div class="row">
            <div class="navbar-header"><a href="index.html" class="navbar-brand"></a></div>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="index.html">首页</a></li>
                <li><a href="activity.html">赛事</a></li>
                <li><a href="aboutus.html">关于</a></li>
                <li><a href="history.html">版本</a></li>
                <li><a href="pictures.html">照片</a></li>
                <li id="ifLogin" class="dropdown"><a href="login.html">登录</a></li>
            </ul>
        </div>
    </div>
</div>
<div class="aboutus-bg modal-open"></div>

<!--注册-->
<div class="container">
    <div class="row">
        <div class="reg">
            <div class="col-xs-12 col-sm-10 col-sm-offset-1 form-title text-center"><p>注册</p></div>
            <form class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3  col-lg-4 col-lg-offset-4 modal-open reg-main">

                <div class="form-group modal-open">
                    <input class="form-control" type="text" placeholder="用户名（例：小动）" name="username" id="username">
                    <i class="success" id="usernameOk"></i>
                    <div class="error" id="usernameErr"></div>
                </div>
                <div class="form-group modal-open">
                    <input class="form-control" type="password" placeholder="密码（6-16个字符组成，区分大小写）" name="password"
                           id="password">
                    <i class="success" id="passwordOk"></i>
                    <div class="error" id="passwordErr"></div>
                </div>
                <div class="form-group modal-open">
                    <input class="form-control" type="text" placeholder="手机号码" maxlength="11" name="tel" id="tel">
                    <i class="success" id="telOk"></i>
                    <div class="error" id="telErr"></div>
                </div>
                <div class="form-group modal-open">
                    <div class="modal-open">
                        <div class="col-xs-7">
                            <div class="row">
                                <input type="text" class="form-control" maxlength="11" placeholder="图像验证码"
                                       name="imgcode" id="imgcode">
                                <i class="success" id="imgcodeOk"></i>
                            </div>
                        </div>
                        <div class="col-xs-1"></div>
                        <div class="col-xs-4 pull-right">
                            <div class="row pull-right">
                                <img id="codeImg" alt="点击更换" title="点击更换"
                                     src="http://static.idongme.com/apps/uploads/201801/code1516606747950.png"
                                     height="38">
                            </div>
                        </div>
                    </div>
                    <div class="error" id="imgcodeErr"></div>
                </div>
                <div class="form-group modal-open">
                    <div class="modal-open">
                        <div class="col-xs-7">
                            <div class="row">
                                <input type="text" class="form-control" maxlength="11" placeholder="手机验证码" name="code"
                                       id="code">
                                <i class="success" id="codeOk"></i>
                            </div>
                        </div>
                        <div class="col-xs-1"></div>
                        <div class="col-xs-4 pull-right">
                            <div class="row">
                                <div class="login-btn btn-yellow text-center" id="sendCode">发送验证码</div>
                            </div>
                        </div>
                    </div>
                    <div class="error" id="codeErr"></div>
                </div>
                <div class="checkbox">
                    <label>
                        <input type="checkbox" checked="checked" id="agree">我已同意<a href="#"
                                                                                   class="color-zhu">动么网站用户使用协议</a>
                    </label>
                    <div class="error" id="agreeErr"></div>
                </div>
                <div class="form-group btn-reg btn-green" id="register">注册</div>
            </form>
        </div>
    </div>
</div><!--/注册/-->

<!--页脚-->
<div class="text-center footer">
    <div class="footer-logo"><img src="images/logo.png"></div>
    <p>©2015 上海弘动网络科技有限公司 <span>沪ICP备14039782号</span></p>
</div>


<!--Javascript include  先写静态的，然后改-->
<script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
<script type="text/javascript" src="js/util.js"></script>
<script src="http://cdn.bootcss.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/register.js"></script>
<script type="text/javascript">
    //localStorage.imgcode
    $(function () {
        localStorage.removeItem("dm_imgcode");
        var _codeImg = $("#codeImg");
        getCode();
        function getCode() {
            _codeImg.off("click");
            $.ajax({
                url: api.getImgCode + Math.random(),
                type: 'get',
                dataType: "json",
                timeout: 10000,
                success: function (d) {
                    console.log(d);
                    if (!d.result) {
                        _codeImg.on("click", getCode);
                        alert("当前网络不稳定，获取不到图片验证码");
                        localStorage.removeItem("dm_imgcode");
                        return false;
                    }
                    _codeImg.attr("src", d.content.imgeurl);
                    localStorage.setItem("dm_imgcode", d.content.imgcode);
                    _codeImg.on("click", getCode);
                    return true;
                },
                error: function (xhr) {
                    localStorage.removeItem("dm_imgcode");
                    _codeImg.on("click", getCode);
                    alert("当前网络不稳定，获取不到图片验证码");
                }
            });
        }
    });
</script>
</body>
</html>